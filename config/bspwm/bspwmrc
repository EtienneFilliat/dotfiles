#! /bin/sh

########################################
# Monitor
########################################

bspc monitor -d 1 2 3 4 5 6 7 8 9

########################################
# Design
########################################


bspc config border_width         	2
bspc config window_gap          	10
bspc config split_ratio			0.50

bspc config borderless_monocle		true
bspc config gapless_monocle		true
bspc config single_monocle		false
bspc config focus_follows_pointer	true

bspc config focused_border_color	#81A1C1
bspc config normal_border_color		#2E3440
bspc config active_border_color		#B48EAD
bspc config presel_feedback_color	#A3BE8C

########################################
# Rules
########################################

# Fix for Spotify setting up WM_CLASS too late.
# See https://github.com/baskerville/bspwm/issues/291#issuecomment-265999167
bspc config external_rules_command ${Home}.config/bspwm/scripts/bspwm-rules

bspc rule -a Chromium desktop='^2' border=off
bspc rule -a TelegramDesktop desktop='^5' border=off
bspc rule -a Discord desktop='^5' border=off


########################################
# Startup
########################################

# Launch compositor
picom &

# Launch dunst
/usr/bin/dunst &

# Fix cursor
xsetroot -cursor_name left_ptr &

# Setup wallpaper
feh --no-fehbg --bg-scale ${HOME}/.config/bspwm/wallpapers/Flat-BSPWM.png

# Launch Polybar
${HOME}/.config/polybar/launch.sh

# Force reload sxhkd (started in .xinitrc)
pkill -USR1 -x sxhkd
